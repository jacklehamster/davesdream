package com.dobuki.movieclip {		import flash.events.*;	import flash.display.*;		public class LoadingBar extends MovieClip {		public function LoadingBar() {			addEventListener(Event.ADDED_TO_STAGE,onStage);			addEventListener(Event.REMOVED_FROM_STAGE,onStage);			stop();		}				private function onStage(e:Event):void {			if(e.type==Event.ADDED_TO_STAGE) {				addEventListener(Event.ENTER_FRAME,onFrame);			}			else {				removeEventListener(Event.ENTER_FRAME,onFrame);			}		}		protected function onFrame(e:Event):void {			var mc:MovieClip = root as MovieClip;			if(mc) {				var position:int = 1+int(totalFrames*mc.loaderInfo.bytesLoaded/mc.loaderInfo.bytesTotal);				gotoAndStop(position);				if(mc.loaderInfo.bytesLoaded==mc.loaderInfo.bytesTotal) {					e.currentTarget.removeEventListener(e.type,arguments.callee);				}			}		}	}	}